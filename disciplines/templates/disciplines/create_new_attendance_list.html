{% extends 'accounts/profile.html' %}
{% load static %}
{% load i18n %}

{% block css %}
  <link rel="stylesheet" href="{% static 'accounts/css/sidebar.css' %}" />
  <link rel="stylesheet" href="{% static 'disciplines/css/class.css' %}" />
{% endblock %}

{% block sidebar %}
  {% include 'disciplines/sidebar.html' %}
{% endblock %}

{% block breadcrumb %}
  {{ block.super }}
  <li>
    <a href="{% url 'disciplines:details' discipline.slug %}">
      {{discipline.title}}
    </a>
  </li>
{% endblock %}

{% block content %}

        <div class="col-sm-10">
          <div class="container-fluid">
            <div class="page-header profile">
              <h1 class="white">Create or Edit attendance list</h1>
              <h1 class="white">
                <i class="fa fa-book"></i> {{discipline.title}} {{discipline.classroom}}<br />
                <small>{{discipline.course}}</small> <br />
              </h1>
            </div>
            <div class="row">
              <div class="col-sm-12">
                <form method="post" name = "myform">
                  {% if form.errors %}
                      {% for field in form %}
                          {% for error in field.errors %}
                              <div class="alert alert-danger">
                                  <strong>{{ error|escape }}</strong>
                              </div>
                          {% endfor %}
                      {% endfor %}
                      {% for error in form.non_field_errors %}
                          <div class="alert alert-danger">
                              <strong>{{ error|escape }}</strong>
                          </div>
                      {% endfor %}
                  {% endif %}
                  <p>
                    <label class="white">Date:</label>
                    {% csrf_token %}
                    {{ form.date }}
                    
                  </p>
                  <p>
                    <label class="white">Check all students</label>
                    <input type="checkbox" onClick="toggle(this)" /><br/>
                  </p>
                    <label class="white">Students:{{ form.students }}</label>
                  <br><br>
                  <button type="submit" class="btn btn-primary submit-button center-block">
                    <i class="fa fa-plus"></i> Save Attendance
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
{% endblock %}
{% block js %}
<script type="text/javascript">
  function toggle(source) {
  checkboxes = document.getElementsByName('students');
  for(var i=0, n=checkboxes.length;i<n;i++) {
    checkboxes[i].checked = source.checked;
  }
}

</script>
{% endblock %}